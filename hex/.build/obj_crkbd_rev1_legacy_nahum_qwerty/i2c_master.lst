   1               		.file	"i2c_master.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__tmp_reg__ = 0
   6               	__zero_reg__ = 1
   7               		.text
   8               	.Ltext0:
   9               		.cfi_sections	.debug_frame
  10               		.section	.text.i2c_init,"ax",@progbits
  11               	.global	i2c_init
  13               	i2c_init:
  14               	.LFB6:
  15               		.file 1 "drivers/avr/i2c_master.c"
   1:drivers/avr/i2c_master.c **** /*  Copyright (C) 2019 Elia Ritterbusch
   2:drivers/avr/i2c_master.c ****  +
   3:drivers/avr/i2c_master.c ****  *  This program is free software: you can redistribute it and/or modify
   4:drivers/avr/i2c_master.c ****  *  it under the terms of the GNU General Public License as published by
   5:drivers/avr/i2c_master.c ****  *  the Free Software Foundation, either version 3 of the License, or
   6:drivers/avr/i2c_master.c ****  *  (at your option) any later version.
   7:drivers/avr/i2c_master.c ****  *
   8:drivers/avr/i2c_master.c ****  *  This program is distributed in the hope that it will be useful,
   9:drivers/avr/i2c_master.c ****  *  but WITHOUT ANY WARRANTY; without even the implied warranty of
  10:drivers/avr/i2c_master.c ****  *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  11:drivers/avr/i2c_master.c ****  *  GNU General Public License for more details.
  12:drivers/avr/i2c_master.c ****  *
  13:drivers/avr/i2c_master.c ****  *  You should have received a copy of the GNU General Public License
  14:drivers/avr/i2c_master.c ****  *  along with this program.  If not, see <https://www.gnu.org/licenses/>.
  15:drivers/avr/i2c_master.c ****  */
  16:drivers/avr/i2c_master.c **** /* Library made by: g4lvanix
  17:drivers/avr/i2c_master.c ****  * GitHub repository: https://github.com/g4lvanix/I2C-master-lib
  18:drivers/avr/i2c_master.c ****  */
  19:drivers/avr/i2c_master.c **** 
  20:drivers/avr/i2c_master.c **** #include <avr/io.h>
  21:drivers/avr/i2c_master.c **** #include <util/twi.h>
  22:drivers/avr/i2c_master.c **** 
  23:drivers/avr/i2c_master.c **** #include "i2c_master.h"
  24:drivers/avr/i2c_master.c **** #include "timer.h"
  25:drivers/avr/i2c_master.c **** #include "wait.h"
  26:drivers/avr/i2c_master.c **** 
  27:drivers/avr/i2c_master.c **** #ifndef F_SCL
  28:drivers/avr/i2c_master.c **** #    define F_SCL 400000UL  // SCL frequency
  29:drivers/avr/i2c_master.c **** #endif
  30:drivers/avr/i2c_master.c **** 
  31:drivers/avr/i2c_master.c **** #define TWBR_val (((F_CPU / F_SCL) - 16) / 2)
  32:drivers/avr/i2c_master.c **** 
  33:drivers/avr/i2c_master.c **** void i2c_init(void) {
  16               		.loc 1 33 21 view -0
  17               		.cfi_startproc
  18               	/* prologue: function */
  19               	/* frame size = 0 */
  20               	/* stack size = 0 */
  21               	.L__stack_usage = 0
  34:drivers/avr/i2c_master.c ****     TWSR = 0; /* no prescaler */
  22               		.loc 1 34 5 view .LVU1
  23               		.loc 1 34 10 is_stmt 0 view .LVU2
  24 0000 1092 B900 		sts 185,__zero_reg__
  35:drivers/avr/i2c_master.c ****     TWBR = (uint8_t)TWBR_val;
  25               		.loc 1 35 5 is_stmt 1 view .LVU3
  26               		.loc 1 35 10 is_stmt 0 view .LVU4
  27 0004 8CE0      		ldi r24,lo8(12)
  28 0006 8093 B800 		sts 184,r24
  29               	/* epilogue start */
  36:drivers/avr/i2c_master.c **** 
  37:drivers/avr/i2c_master.c **** #ifdef __AVR_ATmega32A__
  38:drivers/avr/i2c_master.c ****     // set pull-up resistors on I2C bus pins
  39:drivers/avr/i2c_master.c ****     PORTC |= 0b11;
  40:drivers/avr/i2c_master.c **** 
  41:drivers/avr/i2c_master.c ****     // enable TWI (two-wire interface)
  42:drivers/avr/i2c_master.c ****     TWCR |= (1 << TWEN);
  43:drivers/avr/i2c_master.c **** 
  44:drivers/avr/i2c_master.c ****     // enable TWI interrupt and slave address ACK
  45:drivers/avr/i2c_master.c ****     TWCR |= (1 << TWIE);
  46:drivers/avr/i2c_master.c ****     TWCR |= (1 << TWEA);
  47:drivers/avr/i2c_master.c **** #endif
  48:drivers/avr/i2c_master.c **** }
  30               		.loc 1 48 1 view .LVU5
  31 000a 0895      		ret
  32               		.cfi_endproc
  33               	.LFE6:
  35               		.section	.text.i2c_start,"ax",@progbits
  36               	.global	i2c_start
  38               	i2c_start:
  39               	.LVL0:
  40               	.LFB7:
  49:drivers/avr/i2c_master.c **** 
  50:drivers/avr/i2c_master.c **** i2c_status_t i2c_start(uint8_t address, uint16_t timeout) {
  41               		.loc 1 50 59 is_stmt 1 view -0
  42               		.cfi_startproc
  43               		.loc 1 50 59 is_stmt 0 view .LVU7
  44 0000 EF92      		push r14
  45               	.LCFI0:
  46               		.cfi_def_cfa_offset 3
  47               		.cfi_offset 14, -2
  48 0002 FF92      		push r15
  49               	.LCFI1:
  50               		.cfi_def_cfa_offset 4
  51               		.cfi_offset 15, -3
  52 0004 0F93      		push r16
  53               	.LCFI2:
  54               		.cfi_def_cfa_offset 5
  55               		.cfi_offset 16, -4
  56 0006 1F93      		push r17
  57               	.LCFI3:
  58               		.cfi_def_cfa_offset 6
  59               		.cfi_offset 17, -5
  60 0008 CF93      		push r28
  61               	.LCFI4:
  62               		.cfi_def_cfa_offset 7
  63               		.cfi_offset 28, -6
  64 000a DF93      		push r29
  65               	.LCFI5:
  66               		.cfi_def_cfa_offset 8
  67               		.cfi_offset 29, -7
  68               	/* prologue: function */
  69               	/* frame size = 0 */
  70               	/* stack size = 6 */
  71               	.L__stack_usage = 6
  72 000c 182F      		mov r17,r24
  73 000e EB01      		movw r28,r22
  51:drivers/avr/i2c_master.c ****     // reset TWI control register
  52:drivers/avr/i2c_master.c ****     TWCR = 0;
  74               		.loc 1 52 5 is_stmt 1 view .LVU8
  75               		.loc 1 52 10 is_stmt 0 view .LVU9
  76 0010 1092 BC00 		sts 188,__zero_reg__
  53:drivers/avr/i2c_master.c ****     // transmit START condition
  54:drivers/avr/i2c_master.c ****     TWCR = (1 << TWINT) | (1 << TWSTA) | (1 << TWEN);
  77               		.loc 1 54 5 is_stmt 1 view .LVU10
  78               		.loc 1 54 10 is_stmt 0 view .LVU11
  79 0014 84EA      		ldi r24,lo8(-92)
  80               	.LVL1:
  81               		.loc 1 54 10 view .LVU12
  82 0016 8093 BC00 		sts 188,r24
  55:drivers/avr/i2c_master.c **** 
  56:drivers/avr/i2c_master.c ****     uint16_t timeout_timer = timer_read();
  83               		.loc 1 56 5 is_stmt 1 view .LVU13
  84               		.loc 1 56 30 is_stmt 0 view .LVU14
  85 001a 0E94 0000 		call timer_read
  86               	.LVL2:
  87               		.loc 1 56 30 view .LVU15
  88 001e 7C01      		movw r14,r24
  89               	.LVL3:
  57:drivers/avr/i2c_master.c ****     while (!(TWCR & (1 << TWINT))) {
  90               		.loc 1 57 5 is_stmt 1 view .LVU16
  91               	.L4:
  92               		.loc 1 57 11 view .LVU17
  93               		.loc 1 57 14 is_stmt 0 view .LVU18
  94 0020 8091 BC00 		lds r24,188
  95               		.loc 1 57 11 view .LVU19
  96 0024 87FF      		sbrs r24,7
  97 0026 00C0      		rjmp .L6
  58:drivers/avr/i2c_master.c ****         if ((timeout != I2C_TIMEOUT_INFINITE) && ((timer_read() - timeout_timer) >= timeout)) {
  59:drivers/avr/i2c_master.c ****             return I2C_STATUS_TIMEOUT;
  60:drivers/avr/i2c_master.c ****         }
  61:drivers/avr/i2c_master.c ****     }
  62:drivers/avr/i2c_master.c **** 
  63:drivers/avr/i2c_master.c ****     // check if the start condition was successfully transmitted
  64:drivers/avr/i2c_master.c ****     if (((TW_STATUS & 0xF8) != TW_START) && ((TW_STATUS & 0xF8) != TW_REP_START)) {
  98               		.loc 1 64 5 is_stmt 1 view .LVU20
  99               		.loc 1 64 11 is_stmt 0 view .LVU21
 100 0028 8091 B900 		lds r24,185
 101               		.loc 1 64 8 view .LVU22
 102 002c 887F      		andi r24,lo8(-8)
 103 002e 8830      		cpi r24,lo8(8)
 104 0030 01F0      		breq .L7
 105               		.loc 1 64 47 discriminator 1 view .LVU23
 106 0032 8091 B900 		lds r24,185
 107               		.loc 1 64 42 discriminator 1 view .LVU24
 108 0036 887F      		andi r24,lo8(-8)
 109 0038 8031      		cpi r24,lo8(16)
 110 003a 01F4      		brne .L13
 111               	.L7:
  65:drivers/avr/i2c_master.c ****         return I2C_STATUS_ERROR;
  66:drivers/avr/i2c_master.c ****     }
  67:drivers/avr/i2c_master.c **** 
  68:drivers/avr/i2c_master.c ****     // load slave address into data register
  69:drivers/avr/i2c_master.c ****     TWDR = address;
 112               		.loc 1 69 5 is_stmt 1 view .LVU25
 113               		.loc 1 69 10 is_stmt 0 view .LVU26
 114 003c 1093 BB00 		sts 187,r17
  70:drivers/avr/i2c_master.c ****     // start transmission of address
  71:drivers/avr/i2c_master.c ****     TWCR = (1 << TWINT) | (1 << TWEN);
 115               		.loc 1 71 5 is_stmt 1 view .LVU27
 116               		.loc 1 71 10 is_stmt 0 view .LVU28
 117 0040 84E8      		ldi r24,lo8(-124)
 118 0042 8093 BC00 		sts 188,r24
  72:drivers/avr/i2c_master.c **** 
  73:drivers/avr/i2c_master.c ****     timeout_timer = timer_read();
 119               		.loc 1 73 5 is_stmt 1 view .LVU29
 120               		.loc 1 73 21 is_stmt 0 view .LVU30
 121 0046 0E94 0000 		call timer_read
 122               	.LVL4:
 123 004a 8C01      		movw r16,r24
 124               	.LVL5:
  74:drivers/avr/i2c_master.c ****     while (!(TWCR & (1 << TWINT))) {
 125               		.loc 1 74 5 is_stmt 1 view .LVU31
 126               	.L9:
 127               		.loc 1 74 11 view .LVU32
 128               		.loc 1 74 14 is_stmt 0 view .LVU33
 129 004c 8091 BC00 		lds r24,188
 130               		.loc 1 74 11 view .LVU34
 131 0050 87FF      		sbrs r24,7
 132 0052 00C0      		rjmp .L11
  75:drivers/avr/i2c_master.c ****         if ((timeout != I2C_TIMEOUT_INFINITE) && ((timer_read() - timeout_timer) >= timeout)) {
  76:drivers/avr/i2c_master.c ****             return I2C_STATUS_TIMEOUT;
  77:drivers/avr/i2c_master.c ****         }
  78:drivers/avr/i2c_master.c ****     }
  79:drivers/avr/i2c_master.c **** 
  80:drivers/avr/i2c_master.c ****     // check if the device has acknowledged the READ / WRITE mode
  81:drivers/avr/i2c_master.c ****     uint8_t twst = TW_STATUS & 0xF8;
 133               		.loc 1 81 5 is_stmt 1 view .LVU35
 134               		.loc 1 81 30 is_stmt 0 view .LVU36
 135 0054 2091 B900 		lds r18,185
 136               		.loc 1 81 13 view .LVU37
 137 0058 287F      		andi r18,lo8(-8)
 138               	.LVL6:
  82:drivers/avr/i2c_master.c ****     if ((twst != TW_MT_SLA_ACK) && (twst != TW_MR_SLA_ACK)) {
 139               		.loc 1 82 5 is_stmt 1 view .LVU38
  83:drivers/avr/i2c_master.c ****         return I2C_STATUS_ERROR;
  84:drivers/avr/i2c_master.c ****     }
  85:drivers/avr/i2c_master.c **** 
  86:drivers/avr/i2c_master.c ****     return I2C_STATUS_SUCCESS;
 140               		.loc 1 86 12 is_stmt 0 view .LVU39
 141 005a 90E0      		ldi r25,0
 142 005c 80E0      		ldi r24,0
  82:drivers/avr/i2c_master.c ****     if ((twst != TW_MT_SLA_ACK) && (twst != TW_MR_SLA_ACK)) {
 143               		.loc 1 82 8 view .LVU40
 144 005e 2831      		cpi r18,lo8(24)
 145 0060 01F0      		breq .L2
  82:drivers/avr/i2c_master.c ****     if ((twst != TW_MT_SLA_ACK) && (twst != TW_MR_SLA_ACK)) {
 146               		.loc 1 82 33 discriminator 1 view .LVU41
 147 0062 81E0      		ldi r24,lo8(1)
 148 0064 90E0      		ldi r25,0
 149 0066 2034      		cpi r18,lo8(64)
 150 0068 01F4      		brne .L12
 151 006a 90E0      		ldi r25,0
 152 006c 80E0      		ldi r24,0
 153               	.L12:
 154 006e 9195      		neg r25
 155 0070 8195      		neg r24
 156 0072 9109      		sbc r25,__zero_reg__
 157 0074 00C0      		rjmp .L2
 158               	.LVL7:
 159               	.L6:
  58:drivers/avr/i2c_master.c ****             return I2C_STATUS_TIMEOUT;
 160               		.loc 1 58 9 is_stmt 1 view .LVU42
  58:drivers/avr/i2c_master.c ****             return I2C_STATUS_TIMEOUT;
 161               		.loc 1 58 12 is_stmt 0 view .LVU43
 162 0076 CF3F      		cpi r28,-1
 163 0078 DC07      		cpc r29,r28
 164 007a 01F0      		breq .L4
  58:drivers/avr/i2c_master.c ****             return I2C_STATUS_TIMEOUT;
 165               		.loc 1 58 52 discriminator 1 view .LVU44
 166 007c 0E94 0000 		call timer_read
 167               	.LVL8:
  58:drivers/avr/i2c_master.c ****             return I2C_STATUS_TIMEOUT;
 168               		.loc 1 58 65 discriminator 1 view .LVU45
 169 0080 8E19      		sub r24,r14
 170 0082 9F09      		sbc r25,r15
  58:drivers/avr/i2c_master.c ****             return I2C_STATUS_TIMEOUT;
 171               		.loc 1 58 47 discriminator 1 view .LVU46
 172 0084 8C17      		cp r24,r28
 173 0086 9D07      		cpc r25,r29
 174 0088 00F0      		brlo .L4
 175               	.LVL9:
 176               	.L10:
  59:drivers/avr/i2c_master.c ****         }
 177               		.loc 1 59 20 view .LVU47
 178 008a 8EEF      		ldi r24,lo8(-2)
 179 008c 9FEF      		ldi r25,lo8(-1)
 180               	.L2:
 181               	/* epilogue start */
  87:drivers/avr/i2c_master.c **** }
 182               		.loc 1 87 1 view .LVU48
 183 008e DF91      		pop r29
 184 0090 CF91      		pop r28
 185               	.LVL10:
 186               		.loc 1 87 1 view .LVU49
 187 0092 1F91      		pop r17
 188               	.LVL11:
 189               		.loc 1 87 1 view .LVU50
 190 0094 0F91      		pop r16
 191 0096 FF90      		pop r15
 192 0098 EF90      		pop r14
 193 009a 0895      		ret
 194               	.LVL12:
 195               	.L11:
  75:drivers/avr/i2c_master.c ****             return I2C_STATUS_TIMEOUT;
 196               		.loc 1 75 9 is_stmt 1 view .LVU51
  75:drivers/avr/i2c_master.c ****             return I2C_STATUS_TIMEOUT;
 197               		.loc 1 75 12 is_stmt 0 view .LVU52
 198 009c CF3F      		cpi r28,-1
 199 009e DC07      		cpc r29,r28
 200 00a0 01F0      		breq .L9
  75:drivers/avr/i2c_master.c ****             return I2C_STATUS_TIMEOUT;
 201               		.loc 1 75 52 discriminator 1 view .LVU53
 202 00a2 0E94 0000 		call timer_read
 203               	.LVL13:
  75:drivers/avr/i2c_master.c ****             return I2C_STATUS_TIMEOUT;
 204               		.loc 1 75 65 discriminator 1 view .LVU54
 205 00a6 801B      		sub r24,r16
 206 00a8 910B      		sbc r25,r17
  75:drivers/avr/i2c_master.c ****             return I2C_STATUS_TIMEOUT;
 207               		.loc 1 75 47 discriminator 1 view .LVU55
 208 00aa 8C17      		cp r24,r28
 209 00ac 9D07      		cpc r25,r29
 210 00ae 00F0      		brlo .L9
 211 00b0 00C0      		rjmp .L10
 212               	.LVL14:
 213               	.L13:
  65:drivers/avr/i2c_master.c ****     }
 214               		.loc 1 65 16 view .LVU56
 215 00b2 8FEF      		ldi r24,lo8(-1)
 216 00b4 9FEF      		ldi r25,lo8(-1)
 217 00b6 00C0      		rjmp .L2
 218               		.cfi_endproc
 219               	.LFE7:
 221               		.section	.text.i2c_write,"ax",@progbits
 222               	.global	i2c_write
 224               	i2c_write:
 225               	.LVL15:
 226               	.LFB8:
  88:drivers/avr/i2c_master.c **** 
  89:drivers/avr/i2c_master.c **** i2c_status_t i2c_write(uint8_t data, uint16_t timeout) {
 227               		.loc 1 89 56 is_stmt 1 view -0
 228               		.cfi_startproc
 229               		.loc 1 89 56 is_stmt 0 view .LVU58
 230 0000 0F93      		push r16
 231               	.LCFI6:
 232               		.cfi_def_cfa_offset 3
 233               		.cfi_offset 16, -2
 234 0002 1F93      		push r17
 235               	.LCFI7:
 236               		.cfi_def_cfa_offset 4
 237               		.cfi_offset 17, -3
 238 0004 CF93      		push r28
 239               	.LCFI8:
 240               		.cfi_def_cfa_offset 5
 241               		.cfi_offset 28, -4
 242 0006 DF93      		push r29
 243               	.LCFI9:
 244               		.cfi_def_cfa_offset 6
 245               		.cfi_offset 29, -5
 246               	/* prologue: function */
 247               	/* frame size = 0 */
 248               	/* stack size = 4 */
 249               	.L__stack_usage = 4
 250 0008 EB01      		movw r28,r22
  90:drivers/avr/i2c_master.c ****     // load data into data register
  91:drivers/avr/i2c_master.c ****     TWDR = data;
 251               		.loc 1 91 5 is_stmt 1 view .LVU59
 252               		.loc 1 91 10 is_stmt 0 view .LVU60
 253 000a 8093 BB00 		sts 187,r24
  92:drivers/avr/i2c_master.c ****     // start transmission of data
  93:drivers/avr/i2c_master.c ****     TWCR = (1 << TWINT) | (1 << TWEN);
 254               		.loc 1 93 5 is_stmt 1 view .LVU61
 255               		.loc 1 93 10 is_stmt 0 view .LVU62
 256 000e 84E8      		ldi r24,lo8(-124)
 257               	.LVL16:
 258               		.loc 1 93 10 view .LVU63
 259 0010 8093 BC00 		sts 188,r24
 260               	.LVL17:
  94:drivers/avr/i2c_master.c **** 
  95:drivers/avr/i2c_master.c ****     uint16_t timeout_timer = timer_read();
 261               		.loc 1 95 5 is_stmt 1 view .LVU64
 262               		.loc 1 95 30 is_stmt 0 view .LVU65
 263 0014 0E94 0000 		call timer_read
 264               	.LVL18:
 265               		.loc 1 95 30 view .LVU66
 266 0018 8C01      		movw r16,r24
 267               	.LVL19:
  96:drivers/avr/i2c_master.c ****     while (!(TWCR & (1 << TWINT))) {
 268               		.loc 1 96 5 is_stmt 1 view .LVU67
 269               	.L25:
 270               		.loc 1 96 11 view .LVU68
 271               		.loc 1 96 14 is_stmt 0 view .LVU69
 272 001a 8091 BC00 		lds r24,188
 273               		.loc 1 96 11 view .LVU70
 274 001e 87FF      		sbrs r24,7
 275 0020 00C0      		rjmp .L27
  97:drivers/avr/i2c_master.c ****         if ((timeout != I2C_TIMEOUT_INFINITE) && ((timer_read() - timeout_timer) >= timeout)) {
  98:drivers/avr/i2c_master.c ****             return I2C_STATUS_TIMEOUT;
  99:drivers/avr/i2c_master.c ****         }
 100:drivers/avr/i2c_master.c ****     }
 101:drivers/avr/i2c_master.c **** 
 102:drivers/avr/i2c_master.c ****     if ((TW_STATUS & 0xF8) != TW_MT_DATA_ACK) {
 276               		.loc 1 102 5 is_stmt 1 view .LVU71
 277               		.loc 1 102 10 is_stmt 0 view .LVU72
 278 0022 2091 B900 		lds r18,185
 279               		.loc 1 102 8 view .LVU73
 280 0026 287F      		andi r18,lo8(-8)
 281 0028 81E0      		ldi r24,lo8(1)
 282 002a 90E0      		ldi r25,0
 283 002c 2832      		cpi r18,lo8(40)
 284 002e 01F4      		brne .L28
 285 0030 90E0      		ldi r25,0
 286 0032 80E0      		ldi r24,0
 287               	.L28:
 288 0034 9195      		neg r25
 289 0036 8195      		neg r24
 290 0038 9109      		sbc r25,__zero_reg__
 291               	.L23:
 292               	/* epilogue start */
 103:drivers/avr/i2c_master.c ****         return I2C_STATUS_ERROR;
 104:drivers/avr/i2c_master.c ****     }
 105:drivers/avr/i2c_master.c **** 
 106:drivers/avr/i2c_master.c ****     return I2C_STATUS_SUCCESS;
 107:drivers/avr/i2c_master.c **** }
 293               		.loc 1 107 1 view .LVU74
 294 003a DF91      		pop r29
 295 003c CF91      		pop r28
 296               	.LVL20:
 297               		.loc 1 107 1 view .LVU75
 298 003e 1F91      		pop r17
 299 0040 0F91      		pop r16
 300               	.LVL21:
 301               		.loc 1 107 1 view .LVU76
 302 0042 0895      		ret
 303               	.LVL22:
 304               	.L27:
  97:drivers/avr/i2c_master.c ****         if ((timeout != I2C_TIMEOUT_INFINITE) && ((timer_read() - timeout_timer) >= timeout)) {
 305               		.loc 1 97 9 is_stmt 1 view .LVU77
  97:drivers/avr/i2c_master.c ****         if ((timeout != I2C_TIMEOUT_INFINITE) && ((timer_read() - timeout_timer) >= timeout)) {
 306               		.loc 1 97 12 is_stmt 0 view .LVU78
 307 0044 CF3F      		cpi r28,-1
 308 0046 DC07      		cpc r29,r28
 309 0048 01F0      		breq .L25
  97:drivers/avr/i2c_master.c ****         if ((timeout != I2C_TIMEOUT_INFINITE) && ((timer_read() - timeout_timer) >= timeout)) {
 310               		.loc 1 97 52 discriminator 1 view .LVU79
 311 004a 0E94 0000 		call timer_read
 312               	.LVL23:
  97:drivers/avr/i2c_master.c ****         if ((timeout != I2C_TIMEOUT_INFINITE) && ((timer_read() - timeout_timer) >= timeout)) {
 313               		.loc 1 97 65 discriminator 1 view .LVU80
 314 004e 801B      		sub r24,r16
 315 0050 910B      		sbc r25,r17
  97:drivers/avr/i2c_master.c ****         if ((timeout != I2C_TIMEOUT_INFINITE) && ((timer_read() - timeout_timer) >= timeout)) {
 316               		.loc 1 97 47 discriminator 1 view .LVU81
 317 0052 8C17      		cp r24,r28
 318 0054 9D07      		cpc r25,r29
 319 0056 00F0      		brlo .L25
  98:drivers/avr/i2c_master.c ****         }
 320               		.loc 1 98 20 view .LVU82
 321 0058 8EEF      		ldi r24,lo8(-2)
 322 005a 9FEF      		ldi r25,lo8(-1)
 323 005c 00C0      		rjmp .L23
 324               		.cfi_endproc
 325               	.LFE8:
 327               		.section	.text.i2c_read_ack,"ax",@progbits
 328               	.global	i2c_read_ack
 330               	i2c_read_ack:
 331               	.LVL24:
 332               	.LFB9:
 108:drivers/avr/i2c_master.c **** 
 109:drivers/avr/i2c_master.c **** int16_t i2c_read_ack(uint16_t timeout) {
 333               		.loc 1 109 40 is_stmt 1 view -0
 334               		.cfi_startproc
 335               		.loc 1 109 40 is_stmt 0 view .LVU84
 336 0000 0F93      		push r16
 337               	.LCFI10:
 338               		.cfi_def_cfa_offset 3
 339               		.cfi_offset 16, -2
 340 0002 1F93      		push r17
 341               	.LCFI11:
 342               		.cfi_def_cfa_offset 4
 343               		.cfi_offset 17, -3
 344 0004 CF93      		push r28
 345               	.LCFI12:
 346               		.cfi_def_cfa_offset 5
 347               		.cfi_offset 28, -4
 348 0006 DF93      		push r29
 349               	.LCFI13:
 350               		.cfi_def_cfa_offset 6
 351               		.cfi_offset 29, -5
 352               	/* prologue: function */
 353               	/* frame size = 0 */
 354               	/* stack size = 4 */
 355               	.L__stack_usage = 4
 356 0008 EC01      		movw r28,r24
 110:drivers/avr/i2c_master.c ****     // start TWI module and acknowledge data after reception
 111:drivers/avr/i2c_master.c ****     TWCR = (1 << TWINT) | (1 << TWEN) | (1 << TWEA);
 357               		.loc 1 111 5 is_stmt 1 view .LVU85
 358               		.loc 1 111 10 is_stmt 0 view .LVU86
 359 000a 84EC      		ldi r24,lo8(-60)
 360               	.LVL25:
 361               		.loc 1 111 10 view .LVU87
 362 000c 8093 BC00 		sts 188,r24
 112:drivers/avr/i2c_master.c **** 
 113:drivers/avr/i2c_master.c ****     uint16_t timeout_timer = timer_read();
 363               		.loc 1 113 5 is_stmt 1 view .LVU88
 364               		.loc 1 113 30 is_stmt 0 view .LVU89
 365 0010 0E94 0000 		call timer_read
 366               	.LVL26:
 367 0014 8C01      		movw r16,r24
 368               	.LVL27:
 114:drivers/avr/i2c_master.c ****     while (!(TWCR & (1 << TWINT))) {
 369               		.loc 1 114 5 is_stmt 1 view .LVU90
 370               	.L34:
 371               		.loc 1 114 11 view .LVU91
 372               		.loc 1 114 14 is_stmt 0 view .LVU92
 373 0016 8091 BC00 		lds r24,188
 374               		.loc 1 114 11 view .LVU93
 375 001a 87FF      		sbrs r24,7
 376 001c 00C0      		rjmp .L36
 115:drivers/avr/i2c_master.c ****         if ((timeout != I2C_TIMEOUT_INFINITE) && ((timer_read() - timeout_timer) >= timeout)) {
 116:drivers/avr/i2c_master.c ****             return I2C_STATUS_TIMEOUT;
 117:drivers/avr/i2c_master.c ****         }
 118:drivers/avr/i2c_master.c ****     }
 119:drivers/avr/i2c_master.c **** 
 120:drivers/avr/i2c_master.c ****     // return received data from TWDR
 121:drivers/avr/i2c_master.c ****     return TWDR;
 377               		.loc 1 121 5 is_stmt 1 view .LVU94
 378               		.loc 1 121 12 is_stmt 0 view .LVU95
 379 001e 8091 BB00 		lds r24,187
 380 0022 90E0      		ldi r25,0
 381               	.L32:
 382               	/* epilogue start */
 122:drivers/avr/i2c_master.c **** }
 383               		.loc 1 122 1 view .LVU96
 384 0024 DF91      		pop r29
 385 0026 CF91      		pop r28
 386               	.LVL28:
 387               		.loc 1 122 1 view .LVU97
 388 0028 1F91      		pop r17
 389 002a 0F91      		pop r16
 390               	.LVL29:
 391               		.loc 1 122 1 view .LVU98
 392 002c 0895      		ret
 393               	.LVL30:
 394               	.L36:
 115:drivers/avr/i2c_master.c ****         if ((timeout != I2C_TIMEOUT_INFINITE) && ((timer_read() - timeout_timer) >= timeout)) {
 395               		.loc 1 115 9 is_stmt 1 view .LVU99
 115:drivers/avr/i2c_master.c ****         if ((timeout != I2C_TIMEOUT_INFINITE) && ((timer_read() - timeout_timer) >= timeout)) {
 396               		.loc 1 115 12 is_stmt 0 view .LVU100
 397 002e CF3F      		cpi r28,-1
 398 0030 DC07      		cpc r29,r28
 399 0032 01F0      		breq .L34
 115:drivers/avr/i2c_master.c ****         if ((timeout != I2C_TIMEOUT_INFINITE) && ((timer_read() - timeout_timer) >= timeout)) {
 400               		.loc 1 115 52 discriminator 1 view .LVU101
 401 0034 0E94 0000 		call timer_read
 402               	.LVL31:
 115:drivers/avr/i2c_master.c ****         if ((timeout != I2C_TIMEOUT_INFINITE) && ((timer_read() - timeout_timer) >= timeout)) {
 403               		.loc 1 115 65 discriminator 1 view .LVU102
 404 0038 801B      		sub r24,r16
 405 003a 910B      		sbc r25,r17
 115:drivers/avr/i2c_master.c ****         if ((timeout != I2C_TIMEOUT_INFINITE) && ((timer_read() - timeout_timer) >= timeout)) {
 406               		.loc 1 115 47 discriminator 1 view .LVU103
 407 003c 8C17      		cp r24,r28
 408 003e 9D07      		cpc r25,r29
 409 0040 00F0      		brlo .L34
 116:drivers/avr/i2c_master.c ****         }
 410               		.loc 1 116 20 view .LVU104
 411 0042 8EEF      		ldi r24,lo8(-2)
 412 0044 9FEF      		ldi r25,lo8(-1)
 413 0046 00C0      		rjmp .L32
 414               		.cfi_endproc
 415               	.LFE9:
 417               		.section	.text.i2c_read_nack,"ax",@progbits
 418               	.global	i2c_read_nack
 420               	i2c_read_nack:
 421               	.LVL32:
 422               	.LFB10:
 123:drivers/avr/i2c_master.c **** 
 124:drivers/avr/i2c_master.c **** int16_t i2c_read_nack(uint16_t timeout) {
 423               		.loc 1 124 41 is_stmt 1 view -0
 424               		.cfi_startproc
 425               		.loc 1 124 41 is_stmt 0 view .LVU106
 426 0000 0F93      		push r16
 427               	.LCFI14:
 428               		.cfi_def_cfa_offset 3
 429               		.cfi_offset 16, -2
 430 0002 1F93      		push r17
 431               	.LCFI15:
 432               		.cfi_def_cfa_offset 4
 433               		.cfi_offset 17, -3
 434 0004 CF93      		push r28
 435               	.LCFI16:
 436               		.cfi_def_cfa_offset 5
 437               		.cfi_offset 28, -4
 438 0006 DF93      		push r29
 439               	.LCFI17:
 440               		.cfi_def_cfa_offset 6
 441               		.cfi_offset 29, -5
 442               	/* prologue: function */
 443               	/* frame size = 0 */
 444               	/* stack size = 4 */
 445               	.L__stack_usage = 4
 446 0008 EC01      		movw r28,r24
 125:drivers/avr/i2c_master.c ****     // start receiving without acknowledging reception
 126:drivers/avr/i2c_master.c ****     TWCR = (1 << TWINT) | (1 << TWEN);
 447               		.loc 1 126 5 is_stmt 1 view .LVU107
 448               		.loc 1 126 10 is_stmt 0 view .LVU108
 449 000a 84E8      		ldi r24,lo8(-124)
 450               	.LVL33:
 451               		.loc 1 126 10 view .LVU109
 452 000c 8093 BC00 		sts 188,r24
 127:drivers/avr/i2c_master.c **** 
 128:drivers/avr/i2c_master.c ****     uint16_t timeout_timer = timer_read();
 453               		.loc 1 128 5 is_stmt 1 view .LVU110
 454               		.loc 1 128 30 is_stmt 0 view .LVU111
 455 0010 0E94 0000 		call timer_read
 456               	.LVL34:
 457 0014 8C01      		movw r16,r24
 458               	.LVL35:
 129:drivers/avr/i2c_master.c ****     while (!(TWCR & (1 << TWINT))) {
 459               		.loc 1 129 5 is_stmt 1 view .LVU112
 460               	.L42:
 461               		.loc 1 129 11 view .LVU113
 462               		.loc 1 129 14 is_stmt 0 view .LVU114
 463 0016 8091 BC00 		lds r24,188
 464               		.loc 1 129 11 view .LVU115
 465 001a 87FF      		sbrs r24,7
 466 001c 00C0      		rjmp .L44
 130:drivers/avr/i2c_master.c ****         if ((timeout != I2C_TIMEOUT_INFINITE) && ((timer_read() - timeout_timer) >= timeout)) {
 131:drivers/avr/i2c_master.c ****             return I2C_STATUS_TIMEOUT;
 132:drivers/avr/i2c_master.c ****         }
 133:drivers/avr/i2c_master.c ****     }
 134:drivers/avr/i2c_master.c **** 
 135:drivers/avr/i2c_master.c ****     // return received data from TWDR
 136:drivers/avr/i2c_master.c ****     return TWDR;
 467               		.loc 1 136 5 is_stmt 1 view .LVU116
 468               		.loc 1 136 12 is_stmt 0 view .LVU117
 469 001e 8091 BB00 		lds r24,187
 470 0022 90E0      		ldi r25,0
 471               	.L40:
 472               	/* epilogue start */
 137:drivers/avr/i2c_master.c **** }
 473               		.loc 1 137 1 view .LVU118
 474 0024 DF91      		pop r29
 475 0026 CF91      		pop r28
 476               	.LVL36:
 477               		.loc 1 137 1 view .LVU119
 478 0028 1F91      		pop r17
 479 002a 0F91      		pop r16
 480               	.LVL37:
 481               		.loc 1 137 1 view .LVU120
 482 002c 0895      		ret
 483               	.LVL38:
 484               	.L44:
 130:drivers/avr/i2c_master.c ****         if ((timeout != I2C_TIMEOUT_INFINITE) && ((timer_read() - timeout_timer) >= timeout)) {
 485               		.loc 1 130 9 is_stmt 1 view .LVU121
 130:drivers/avr/i2c_master.c ****         if ((timeout != I2C_TIMEOUT_INFINITE) && ((timer_read() - timeout_timer) >= timeout)) {
 486               		.loc 1 130 12 is_stmt 0 view .LVU122
 487 002e CF3F      		cpi r28,-1
 488 0030 DC07      		cpc r29,r28
 489 0032 01F0      		breq .L42
 130:drivers/avr/i2c_master.c ****         if ((timeout != I2C_TIMEOUT_INFINITE) && ((timer_read() - timeout_timer) >= timeout)) {
 490               		.loc 1 130 52 discriminator 1 view .LVU123
 491 0034 0E94 0000 		call timer_read
 492               	.LVL39:
 130:drivers/avr/i2c_master.c ****         if ((timeout != I2C_TIMEOUT_INFINITE) && ((timer_read() - timeout_timer) >= timeout)) {
 493               		.loc 1 130 65 discriminator 1 view .LVU124
 494 0038 801B      		sub r24,r16
 495 003a 910B      		sbc r25,r17
 130:drivers/avr/i2c_master.c ****         if ((timeout != I2C_TIMEOUT_INFINITE) && ((timer_read() - timeout_timer) >= timeout)) {
 496               		.loc 1 130 47 discriminator 1 view .LVU125
 497 003c 8C17      		cp r24,r28
 498 003e 9D07      		cpc r25,r29
 499 0040 00F0      		brlo .L42
 131:drivers/avr/i2c_master.c ****         }
 500               		.loc 1 131 20 view .LVU126
 501 0042 8EEF      		ldi r24,lo8(-2)
 502 0044 9FEF      		ldi r25,lo8(-1)
 503 0046 00C0      		rjmp .L40
 504               		.cfi_endproc
 505               	.LFE10:
 507               		.section	.text.i2c_transmit,"ax",@progbits
 508               	.global	i2c_transmit
 510               	i2c_transmit:
 511               	.LVL40:
 512               	.LFB11:
 138:drivers/avr/i2c_master.c **** 
 139:drivers/avr/i2c_master.c **** i2c_status_t i2c_transmit(uint8_t address, const uint8_t* data, uint16_t length, uint16_t timeout) 
 513               		.loc 1 139 100 is_stmt 1 view -0
 514               		.cfi_startproc
 515               		.loc 1 139 100 is_stmt 0 view .LVU128
 516 0000 CF92      		push r12
 517               	.LCFI18:
 518               		.cfi_def_cfa_offset 3
 519               		.cfi_offset 12, -2
 520 0002 DF92      		push r13
 521               	.LCFI19:
 522               		.cfi_def_cfa_offset 4
 523               		.cfi_offset 13, -3
 524 0004 EF92      		push r14
 525               	.LCFI20:
 526               		.cfi_def_cfa_offset 5
 527               		.cfi_offset 14, -4
 528 0006 FF92      		push r15
 529               	.LCFI21:
 530               		.cfi_def_cfa_offset 6
 531               		.cfi_offset 15, -5
 532 0008 0F93      		push r16
 533               	.LCFI22:
 534               		.cfi_def_cfa_offset 7
 535               		.cfi_offset 16, -6
 536 000a 1F93      		push r17
 537               	.LCFI23:
 538               		.cfi_def_cfa_offset 8
 539               		.cfi_offset 17, -7
 540 000c CF93      		push r28
 541               	.LCFI24:
 542               		.cfi_def_cfa_offset 9
 543               		.cfi_offset 28, -8
 544 000e DF93      		push r29
 545               	.LCFI25:
 546               		.cfi_def_cfa_offset 10
 547               		.cfi_offset 29, -9
 548               	/* prologue: function */
 549               	/* frame size = 0 */
 550               	/* stack size = 8 */
 551               	.L__stack_usage = 8
 552 0010 6B01      		movw r12,r22
 553 0012 8A01      		movw r16,r20
 554 0014 7901      		movw r14,r18
 140:drivers/avr/i2c_master.c ****     i2c_status_t status = i2c_start(address | I2C_WRITE, timeout);
 555               		.loc 1 140 5 is_stmt 1 view .LVU129
 556               		.loc 1 140 27 is_stmt 0 view .LVU130
 557 0016 B901      		movw r22,r18
 558               	.LVL41:
 559               		.loc 1 140 27 view .LVU131
 560 0018 0E94 0000 		call i2c_start
 561               	.LVL42:
 141:drivers/avr/i2c_master.c **** 
 142:drivers/avr/i2c_master.c ****     for (uint16_t i = 0; i < length && status >= 0; i++) {
 562               		.loc 1 142 5 is_stmt 1 view .LVU132
 563               	.LBB5:
 564               		.loc 1 142 10 view .LVU133
 565               		.loc 1 142 10 is_stmt 0 view .LVU134
 566 001c E601      		movw r28,r12
 567 001e 0C0D      		add r16,r12
 568 0020 1D1D      		adc r17,r13
 569               	.LVL43:
 570               	.L49:
 571               		.loc 1 142 26 is_stmt 1 discriminator 1 view .LVU135
 572               		.loc 1 142 5 is_stmt 0 discriminator 1 view .LVU136
 573 0022 C017      		cp r28,r16
 574 0024 D107      		cpc r29,r17
 575 0026 01F4      		brne .L50
 576               	.L52:
 577               		.loc 1 142 5 discriminator 1 view .LVU137
 578               	.LBE5:
 143:drivers/avr/i2c_master.c ****         status = i2c_write(data[i], timeout);
 144:drivers/avr/i2c_master.c ****     }
 145:drivers/avr/i2c_master.c **** 
 146:drivers/avr/i2c_master.c ****     i2c_stop();
 579               		.loc 1 146 5 is_stmt 1 view .LVU138
 580               	.LBB6:
 581               	.LBI6:
 147:drivers/avr/i2c_master.c **** 
 148:drivers/avr/i2c_master.c ****     return status;
 149:drivers/avr/i2c_master.c **** }
 150:drivers/avr/i2c_master.c **** 
 151:drivers/avr/i2c_master.c **** i2c_status_t i2c_receive(uint8_t address, uint8_t* data, uint16_t length, uint16_t timeout) {
 152:drivers/avr/i2c_master.c ****     i2c_status_t status = i2c_start(address | I2C_READ, timeout);
 153:drivers/avr/i2c_master.c **** 
 154:drivers/avr/i2c_master.c ****     for (uint16_t i = 0; i < (length - 1) && status >= 0; i++) {
 155:drivers/avr/i2c_master.c ****         status = i2c_read_ack(timeout);
 156:drivers/avr/i2c_master.c ****         if (status >= 0) {
 157:drivers/avr/i2c_master.c ****             data[i] = status;
 158:drivers/avr/i2c_master.c ****         }
 159:drivers/avr/i2c_master.c ****     }
 160:drivers/avr/i2c_master.c **** 
 161:drivers/avr/i2c_master.c ****     if (status >= 0) {
 162:drivers/avr/i2c_master.c ****         status = i2c_read_nack(timeout);
 163:drivers/avr/i2c_master.c ****         if (status >= 0) {
 164:drivers/avr/i2c_master.c ****             data[(length - 1)] = status;
 165:drivers/avr/i2c_master.c ****         }
 166:drivers/avr/i2c_master.c ****     }
 167:drivers/avr/i2c_master.c **** 
 168:drivers/avr/i2c_master.c ****     i2c_stop();
 169:drivers/avr/i2c_master.c **** 
 170:drivers/avr/i2c_master.c ****     return (status < 0) ? status : I2C_STATUS_SUCCESS;
 171:drivers/avr/i2c_master.c **** }
 172:drivers/avr/i2c_master.c **** 
 173:drivers/avr/i2c_master.c **** i2c_status_t i2c_writeReg(uint8_t devaddr, uint8_t regaddr, const uint8_t* data, uint16_t length, u
 174:drivers/avr/i2c_master.c ****     i2c_status_t status = i2c_start(devaddr | 0x00, timeout);
 175:drivers/avr/i2c_master.c ****     if (status >= 0) {
 176:drivers/avr/i2c_master.c ****         status = i2c_write(regaddr, timeout);
 177:drivers/avr/i2c_master.c **** 
 178:drivers/avr/i2c_master.c ****         for (uint16_t i = 0; i < length && status >= 0; i++) {
 179:drivers/avr/i2c_master.c ****             status = i2c_write(data[i], timeout);
 180:drivers/avr/i2c_master.c ****         }
 181:drivers/avr/i2c_master.c ****     }
 182:drivers/avr/i2c_master.c **** 
 183:drivers/avr/i2c_master.c ****     i2c_stop();
 184:drivers/avr/i2c_master.c **** 
 185:drivers/avr/i2c_master.c ****     return status;
 186:drivers/avr/i2c_master.c **** }
 187:drivers/avr/i2c_master.c **** 
 188:drivers/avr/i2c_master.c **** i2c_status_t i2c_readReg(uint8_t devaddr, uint8_t regaddr, uint8_t* data, uint16_t length, uint16_t
 189:drivers/avr/i2c_master.c ****     i2c_status_t status = i2c_start(devaddr, timeout);
 190:drivers/avr/i2c_master.c ****     if (status < 0) {
 191:drivers/avr/i2c_master.c ****         goto error;
 192:drivers/avr/i2c_master.c ****     }
 193:drivers/avr/i2c_master.c **** 
 194:drivers/avr/i2c_master.c ****     status = i2c_write(regaddr, timeout);
 195:drivers/avr/i2c_master.c ****     if (status < 0) {
 196:drivers/avr/i2c_master.c ****         goto error;
 197:drivers/avr/i2c_master.c ****     }
 198:drivers/avr/i2c_master.c **** 
 199:drivers/avr/i2c_master.c ****     status = i2c_start(devaddr | 0x01, timeout);
 200:drivers/avr/i2c_master.c **** 
 201:drivers/avr/i2c_master.c ****     for (uint16_t i = 0; i < (length - 1) && status >= 0; i++) {
 202:drivers/avr/i2c_master.c ****         status = i2c_read_ack(timeout);
 203:drivers/avr/i2c_master.c ****         if (status >= 0) {
 204:drivers/avr/i2c_master.c ****             data[i] = status;
 205:drivers/avr/i2c_master.c ****         }
 206:drivers/avr/i2c_master.c ****     }
 207:drivers/avr/i2c_master.c **** 
 208:drivers/avr/i2c_master.c ****     if (status >= 0) {
 209:drivers/avr/i2c_master.c ****         status = i2c_read_nack(timeout);
 210:drivers/avr/i2c_master.c ****         if (status >= 0) {
 211:drivers/avr/i2c_master.c ****             data[(length - 1)] = status;
 212:drivers/avr/i2c_master.c ****         }
 213:drivers/avr/i2c_master.c ****     }
 214:drivers/avr/i2c_master.c **** 
 215:drivers/avr/i2c_master.c **** error:
 216:drivers/avr/i2c_master.c ****     i2c_stop();
 217:drivers/avr/i2c_master.c **** 
 218:drivers/avr/i2c_master.c ****     return (status < 0) ? status : I2C_STATUS_SUCCESS;
 219:drivers/avr/i2c_master.c **** }
 220:drivers/avr/i2c_master.c **** 
 221:drivers/avr/i2c_master.c **** void i2c_stop(void) {
 582               		.loc 1 221 6 view .LVU139
 583               	.LBB7:
 222:drivers/avr/i2c_master.c ****     // transmit STOP condition
 223:drivers/avr/i2c_master.c ****     TWCR = (1 << TWINT) | (1 << TWEN) | (1 << TWSTO);
 584               		.loc 1 223 5 view .LVU140
 585               		.loc 1 223 10 is_stmt 0 view .LVU141
 586 0028 24E9      		ldi r18,lo8(-108)
 587 002a 2093 BC00 		sts 188,r18
 588               	.LBE7:
 589               	.LBE6:
 148:drivers/avr/i2c_master.c **** }
 590               		.loc 1 148 5 is_stmt 1 view .LVU142
 591               	/* epilogue start */
 149:drivers/avr/i2c_master.c **** 
 592               		.loc 1 149 1 is_stmt 0 view .LVU143
 593 002e DF91      		pop r29
 594 0030 CF91      		pop r28
 595               	.LVL44:
 149:drivers/avr/i2c_master.c **** 
 596               		.loc 1 149 1 view .LVU144
 597 0032 1F91      		pop r17
 598 0034 0F91      		pop r16
 599 0036 FF90      		pop r15
 600 0038 EF90      		pop r14
 601               	.LVL45:
 149:drivers/avr/i2c_master.c **** 
 602               		.loc 1 149 1 view .LVU145
 603 003a DF90      		pop r13
 604 003c CF90      		pop r12
 605               	.LVL46:
 149:drivers/avr/i2c_master.c **** 
 606               		.loc 1 149 1 view .LVU146
 607 003e 0895      		ret
 608               	.LVL47:
 609               	.L50:
 610               	.LBB8:
 142:drivers/avr/i2c_master.c ****         status = i2c_write(data[i], timeout);
 611               		.loc 1 142 37 discriminator 3 view .LVU147
 612 0040 97FD      		sbrc r25,7
 613 0042 00C0      		rjmp .L52
 143:drivers/avr/i2c_master.c ****     }
 614               		.loc 1 143 9 is_stmt 1 discriminator 4 view .LVU148
 143:drivers/avr/i2c_master.c ****     }
 615               		.loc 1 143 18 is_stmt 0 discriminator 4 view .LVU149
 616 0044 B701      		movw r22,r14
 617 0046 8991      		ld r24,Y+
 618               	.LVL48:
 143:drivers/avr/i2c_master.c ****     }
 619               		.loc 1 143 18 discriminator 4 view .LVU150
 620 0048 0E94 0000 		call i2c_write
 621               	.LVL49:
 142:drivers/avr/i2c_master.c ****         status = i2c_write(data[i], timeout);
 622               		.loc 1 142 53 is_stmt 1 discriminator 4 view .LVU151
 142:drivers/avr/i2c_master.c ****         status = i2c_write(data[i], timeout);
 623               		.loc 1 142 53 is_stmt 0 discriminator 4 view .LVU152
 624 004c 00C0      		rjmp .L49
 625               	.LBE8:
 626               		.cfi_endproc
 627               	.LFE11:
 629               		.section	.text.i2c_receive,"ax",@progbits
 630               	.global	i2c_receive
 632               	i2c_receive:
 633               	.LVL50:
 634               	.LFB12:
 151:drivers/avr/i2c_master.c ****     i2c_status_t status = i2c_start(address | I2C_READ, timeout);
 635               		.loc 1 151 93 is_stmt 1 view -0
 636               		.cfi_startproc
 151:drivers/avr/i2c_master.c ****     i2c_status_t status = i2c_start(address | I2C_READ, timeout);
 637               		.loc 1 151 93 is_stmt 0 view .LVU154
 638 0000 CF92      		push r12
 639               	.LCFI26:
 640               		.cfi_def_cfa_offset 3
 641               		.cfi_offset 12, -2
 642 0002 DF92      		push r13
 643               	.LCFI27:
 644               		.cfi_def_cfa_offset 4
 645               		.cfi_offset 13, -3
 646 0004 EF92      		push r14
 647               	.LCFI28:
 648               		.cfi_def_cfa_offset 5
 649               		.cfi_offset 14, -4
 650 0006 FF92      		push r15
 651               	.LCFI29:
 652               		.cfi_def_cfa_offset 6
 653               		.cfi_offset 15, -5
 654 0008 0F93      		push r16
 655               	.LCFI30:
 656               		.cfi_def_cfa_offset 7
 657               		.cfi_offset 16, -6
 658 000a 1F93      		push r17
 659               	.LCFI31:
 660               		.cfi_def_cfa_offset 8
 661               		.cfi_offset 17, -7
 662 000c CF93      		push r28
 663               	.LCFI32:
 664               		.cfi_def_cfa_offset 9
 665               		.cfi_offset 28, -8
 666 000e DF93      		push r29
 667               	.LCFI33:
 668               		.cfi_def_cfa_offset 10
 669               		.cfi_offset 29, -9
 670               	/* prologue: function */
 671               	/* frame size = 0 */
 672               	/* stack size = 8 */
 673               	.L__stack_usage = 8
 674 0010 EB01      		movw r28,r22
 675 0012 8A01      		movw r16,r20
 676 0014 6901      		movw r12,r18
 152:drivers/avr/i2c_master.c **** 
 677               		.loc 1 152 5 is_stmt 1 view .LVU155
 152:drivers/avr/i2c_master.c **** 
 678               		.loc 1 152 27 is_stmt 0 view .LVU156
 679 0016 B901      		movw r22,r18
 680               	.LVL51:
 152:drivers/avr/i2c_master.c **** 
 681               		.loc 1 152 27 view .LVU157
 682 0018 8160      		ori r24,lo8(1)
 683               	.LVL52:
 152:drivers/avr/i2c_master.c **** 
 684               		.loc 1 152 27 view .LVU158
 685 001a 0E94 0000 		call i2c_start
 686               	.LVL53:
 154:drivers/avr/i2c_master.c ****         status = i2c_read_ack(timeout);
 687               		.loc 1 154 5 is_stmt 1 view .LVU159
 688               	.LBB12:
 154:drivers/avr/i2c_master.c ****         status = i2c_read_ack(timeout);
 689               		.loc 1 154 10 view .LVU160
 154:drivers/avr/i2c_master.c ****         status = i2c_read_ack(timeout);
 690               		.loc 1 154 19 is_stmt 0 view .LVU161
 691 001e F12C      		mov r15,__zero_reg__
 692 0020 E12C      		mov r14,__zero_reg__
 154:drivers/avr/i2c_master.c ****         status = i2c_read_ack(timeout);
 693               		.loc 1 154 38 view .LVU162
 694 0022 0150      		subi r16,1
 695 0024 1109      		sbc r17,__zero_reg__
 696               	.LVL54:
 697               	.L55:
 154:drivers/avr/i2c_master.c ****         status = i2c_read_ack(timeout);
 698               		.loc 1 154 26 is_stmt 1 discriminator 1 view .LVU163
 154:drivers/avr/i2c_master.c ****         status = i2c_read_ack(timeout);
 699               		.loc 1 154 5 is_stmt 0 discriminator 1 view .LVU164
 700 0026 E016      		cp r14,r16
 701 0028 F106      		cpc r15,r17
 702 002a 00F4      		brsh .L57
 154:drivers/avr/i2c_master.c ****         status = i2c_read_ack(timeout);
 703               		.loc 1 154 43 discriminator 3 view .LVU165
 704 002c 97FF      		sbrs r25,7
 705 002e 00C0      		rjmp .L58
 706               	.LVL55:
 707               	.L59:
 154:drivers/avr/i2c_master.c ****         status = i2c_read_ack(timeout);
 708               		.loc 1 154 43 discriminator 3 view .LVU166
 709               	.LBE12:
 168:drivers/avr/i2c_master.c **** 
 710               		.loc 1 168 5 is_stmt 1 view .LVU167
 711               	.LBB13:
 712               	.LBI13:
 221:drivers/avr/i2c_master.c ****     // transmit STOP condition
 713               		.loc 1 221 6 view .LVU168
 714               	.LBB14:
 715               		.loc 1 223 5 view .LVU169
 716               		.loc 1 223 10 is_stmt 0 view .LVU170
 717 0030 24E9      		ldi r18,lo8(-108)
 718 0032 2093 BC00 		sts 188,r18
 719               	.LBE14:
 720               	.LBE13:
 170:drivers/avr/i2c_master.c **** }
 721               		.loc 1 170 5 is_stmt 1 view .LVU171
 170:drivers/avr/i2c_master.c **** }
 722               		.loc 1 170 34 is_stmt 0 view .LVU172
 723 0036 1816      		cp __zero_reg__,r24
 724 0038 1906      		cpc __zero_reg__,r25
 725 003a 04F4      		brge .L60
 170:drivers/avr/i2c_master.c **** }
 726               		.loc 1 170 34 view .LVU173
 727 003c 90E0      		ldi r25,0
 728 003e 80E0      		ldi r24,0
 729               	.LVL56:
 730               	.L60:
 731               	/* epilogue start */
 171:drivers/avr/i2c_master.c **** 
 732               		.loc 1 171 1 view .LVU174
 733 0040 DF91      		pop r29
 734 0042 CF91      		pop r28
 735 0044 1F91      		pop r17
 736 0046 0F91      		pop r16
 737               	.LVL57:
 171:drivers/avr/i2c_master.c **** 
 738               		.loc 1 171 1 view .LVU175
 739 0048 FF90      		pop r15
 740 004a EF90      		pop r14
 741               	.LVL58:
 171:drivers/avr/i2c_master.c **** 
 742               		.loc 1 171 1 view .LVU176
 743 004c DF90      		pop r13
 744 004e CF90      		pop r12
 745               	.LVL59:
 171:drivers/avr/i2c_master.c **** 
 746               		.loc 1 171 1 view .LVU177
 747 0050 0895      		ret
 748               	.LVL60:
 749               	.L58:
 750               	.LBB15:
 155:drivers/avr/i2c_master.c ****         if (status >= 0) {
 751               		.loc 1 155 9 is_stmt 1 view .LVU178
 155:drivers/avr/i2c_master.c ****         if (status >= 0) {
 752               		.loc 1 155 18 is_stmt 0 view .LVU179
 753 0052 C601      		movw r24,r12
 754               	.LVL61:
 155:drivers/avr/i2c_master.c ****         if (status >= 0) {
 755               		.loc 1 155 18 view .LVU180
 756 0054 0E94 0000 		call i2c_read_ack
 757               	.LVL62:
 156:drivers/avr/i2c_master.c ****             data[i] = status;
 758               		.loc 1 156 9 is_stmt 1 view .LVU181
 156:drivers/avr/i2c_master.c ****             data[i] = status;
 759               		.loc 1 156 12 is_stmt 0 view .LVU182
 760 0058 97FD      		sbrc r25,7
 761 005a 00C0      		rjmp .L56
 157:drivers/avr/i2c_master.c ****         }
 762               		.loc 1 157 13 is_stmt 1 view .LVU183
 157:drivers/avr/i2c_master.c ****         }
 763               		.loc 1 157 21 is_stmt 0 view .LVU184
 764 005c FE01      		movw r30,r28
 765 005e EE0D      		add r30,r14
 766 0060 FF1D      		adc r31,r15
 767 0062 8083      		st Z,r24
 768               	.L56:
 154:drivers/avr/i2c_master.c ****         status = i2c_read_ack(timeout);
 769               		.loc 1 154 59 is_stmt 1 discriminator 2 view .LVU185
 154:drivers/avr/i2c_master.c ****         status = i2c_read_ack(timeout);
 770               		.loc 1 154 60 is_stmt 0 discriminator 2 view .LVU186
 771 0064 2FEF      		ldi r18,-1
 772 0066 E21A      		sub r14,r18
 773 0068 F20A      		sbc r15,r18
 774               	.LVL63:
 154:drivers/avr/i2c_master.c ****         status = i2c_read_ack(timeout);
 775               		.loc 1 154 60 discriminator 2 view .LVU187
 776 006a 00C0      		rjmp .L55
 777               	.L57:
 154:drivers/avr/i2c_master.c ****         status = i2c_read_ack(timeout);
 778               		.loc 1 154 60 discriminator 2 view .LVU188
 779               	.LBE15:
 161:drivers/avr/i2c_master.c ****         status = i2c_read_nack(timeout);
 780               		.loc 1 161 5 is_stmt 1 view .LVU189
 161:drivers/avr/i2c_master.c ****         status = i2c_read_nack(timeout);
 781               		.loc 1 161 8 is_stmt 0 view .LVU190
 782 006c 97FD      		sbrc r25,7
 783 006e 00C0      		rjmp .L59
 162:drivers/avr/i2c_master.c ****         if (status >= 0) {
 784               		.loc 1 162 9 is_stmt 1 view .LVU191
 162:drivers/avr/i2c_master.c ****         if (status >= 0) {
 785               		.loc 1 162 18 is_stmt 0 view .LVU192
 786 0070 C601      		movw r24,r12
 787               	.LVL64:
 162:drivers/avr/i2c_master.c ****         if (status >= 0) {
 788               		.loc 1 162 18 view .LVU193
 789 0072 0E94 0000 		call i2c_read_nack
 790               	.LVL65:
 163:drivers/avr/i2c_master.c ****             data[(length - 1)] = status;
 791               		.loc 1 163 9 is_stmt 1 view .LVU194
 163:drivers/avr/i2c_master.c ****             data[(length - 1)] = status;
 792               		.loc 1 163 12 is_stmt 0 view .LVU195
 793 0076 97FD      		sbrc r25,7
 794 0078 00C0      		rjmp .L59
 164:drivers/avr/i2c_master.c ****         }
 795               		.loc 1 164 13 is_stmt 1 view .LVU196
 164:drivers/avr/i2c_master.c ****         }
 796               		.loc 1 164 32 is_stmt 0 view .LVU197
 797 007a C00F      		add r28,r16
 798 007c D11F      		adc r29,r17
 799               	.LVL66:
 164:drivers/avr/i2c_master.c ****         }
 800               		.loc 1 164 32 view .LVU198
 801 007e 8883      		st Y,r24
 802 0080 00C0      		rjmp .L59
 803               		.cfi_endproc
 804               	.LFE12:
 806               		.section	.text.i2c_writeReg,"ax",@progbits
 807               	.global	i2c_writeReg
 809               	i2c_writeReg:
 810               	.LVL67:
 811               	.LFB13:
 173:drivers/avr/i2c_master.c ****     i2c_status_t status = i2c_start(devaddr | 0x00, timeout);
 812               		.loc 1 173 117 is_stmt 1 view -0
 813               		.cfi_startproc
 173:drivers/avr/i2c_master.c ****     i2c_status_t status = i2c_start(devaddr | 0x00, timeout);
 814               		.loc 1 173 117 is_stmt 0 view .LVU200
 815 0000 CF92      		push r12
 816               	.LCFI34:
 817               		.cfi_def_cfa_offset 3
 818               		.cfi_offset 12, -2
 819 0002 DF92      		push r13
 820               	.LCFI35:
 821               		.cfi_def_cfa_offset 4
 822               		.cfi_offset 13, -3
 823 0004 EF92      		push r14
 824               	.LCFI36:
 825               		.cfi_def_cfa_offset 5
 826               		.cfi_offset 14, -4
 827 0006 FF92      		push r15
 828               	.LCFI37:
 829               		.cfi_def_cfa_offset 6
 830               		.cfi_offset 15, -5
 831 0008 0F93      		push r16
 832               	.LCFI38:
 833               		.cfi_def_cfa_offset 7
 834               		.cfi_offset 16, -6
 835 000a 1F93      		push r17
 836               	.LCFI39:
 837               		.cfi_def_cfa_offset 8
 838               		.cfi_offset 17, -7
 839 000c CF93      		push r28
 840               	.LCFI40:
 841               		.cfi_def_cfa_offset 9
 842               		.cfi_offset 28, -8
 843 000e DF93      		push r29
 844               	.LCFI41:
 845               		.cfi_def_cfa_offset 10
 846               		.cfi_offset 29, -9
 847               	/* prologue: function */
 848               	/* frame size = 0 */
 849               	/* stack size = 8 */
 850               	.L__stack_usage = 8
 851 0010 C62F      		mov r28,r22
 852 0012 6A01      		movw r12,r20
 853 0014 7901      		movw r14,r18
 174:drivers/avr/i2c_master.c ****     if (status >= 0) {
 854               		.loc 1 174 5 is_stmt 1 view .LVU201
 174:drivers/avr/i2c_master.c ****     if (status >= 0) {
 855               		.loc 1 174 27 is_stmt 0 view .LVU202
 856 0016 B801      		movw r22,r16
 857               	.LVL68:
 174:drivers/avr/i2c_master.c ****     if (status >= 0) {
 858               		.loc 1 174 27 view .LVU203
 859 0018 0E94 0000 		call i2c_start
 860               	.LVL69:
 175:drivers/avr/i2c_master.c ****         status = i2c_write(regaddr, timeout);
 861               		.loc 1 175 5 is_stmt 1 view .LVU204
 175:drivers/avr/i2c_master.c ****         status = i2c_write(regaddr, timeout);
 862               		.loc 1 175 8 is_stmt 0 view .LVU205
 863 001c 97FD      		sbrc r25,7
 864 001e 00C0      		rjmp .L62
 176:drivers/avr/i2c_master.c **** 
 865               		.loc 1 176 9 is_stmt 1 view .LVU206
 176:drivers/avr/i2c_master.c **** 
 866               		.loc 1 176 18 is_stmt 0 view .LVU207
 867 0020 B801      		movw r22,r16
 868 0022 8C2F      		mov r24,r28
 869               	.LVL70:
 176:drivers/avr/i2c_master.c **** 
 870               		.loc 1 176 18 view .LVU208
 871 0024 0E94 0000 		call i2c_write
 872               	.LVL71:
 178:drivers/avr/i2c_master.c ****             status = i2c_write(data[i], timeout);
 873               		.loc 1 178 9 is_stmt 1 view .LVU209
 874               	.LBB19:
 178:drivers/avr/i2c_master.c ****             status = i2c_write(data[i], timeout);
 875               		.loc 1 178 14 view .LVU210
 178:drivers/avr/i2c_master.c ****             status = i2c_write(data[i], timeout);
 876               		.loc 1 178 14 is_stmt 0 view .LVU211
 877 0028 E601      		movw r28,r12
 878               	.LVL72:
 178:drivers/avr/i2c_master.c ****             status = i2c_write(data[i], timeout);
 879               		.loc 1 178 14 view .LVU212
 880 002a EC0C      		add r14,r12
 881 002c FD1C      		adc r15,r13
 882               	.LVL73:
 883               	.L63:
 178:drivers/avr/i2c_master.c ****             status = i2c_write(data[i], timeout);
 884               		.loc 1 178 30 is_stmt 1 discriminator 1 view .LVU213
 178:drivers/avr/i2c_master.c ****             status = i2c_write(data[i], timeout);
 885               		.loc 1 178 9 is_stmt 0 discriminator 1 view .LVU214
 886 002e CE15      		cp r28,r14
 887 0030 DF05      		cpc r29,r15
 888 0032 01F0      		breq .L62
 178:drivers/avr/i2c_master.c ****             status = i2c_write(data[i], timeout);
 889               		.loc 1 178 41 discriminator 3 view .LVU215
 890 0034 97FF      		sbrs r25,7
 891 0036 00C0      		rjmp .L64
 892               	.LVL74:
 893               	.L62:
 178:drivers/avr/i2c_master.c ****             status = i2c_write(data[i], timeout);
 894               		.loc 1 178 41 discriminator 3 view .LVU216
 895               	.LBE19:
 183:drivers/avr/i2c_master.c **** 
 896               		.loc 1 183 5 is_stmt 1 view .LVU217
 897               	.LBB20:
 898               	.LBI20:
 221:drivers/avr/i2c_master.c ****     // transmit STOP condition
 899               		.loc 1 221 6 view .LVU218
 900               	.LBB21:
 901               		.loc 1 223 5 view .LVU219
 902               		.loc 1 223 10 is_stmt 0 view .LVU220
 903 0038 24E9      		ldi r18,lo8(-108)
 904 003a 2093 BC00 		sts 188,r18
 905               	.LBE21:
 906               	.LBE20:
 185:drivers/avr/i2c_master.c **** }
 907               		.loc 1 185 5 is_stmt 1 view .LVU221
 908               	/* epilogue start */
 186:drivers/avr/i2c_master.c **** 
 909               		.loc 1 186 1 is_stmt 0 view .LVU222
 910 003e DF91      		pop r29
 911 0040 CF91      		pop r28
 912 0042 1F91      		pop r17
 913 0044 0F91      		pop r16
 914               	.LVL75:
 186:drivers/avr/i2c_master.c **** 
 915               		.loc 1 186 1 view .LVU223
 916 0046 FF90      		pop r15
 917 0048 EF90      		pop r14
 918 004a DF90      		pop r13
 919 004c CF90      		pop r12
 920               	.LVL76:
 186:drivers/avr/i2c_master.c **** 
 921               		.loc 1 186 1 view .LVU224
 922 004e 0895      		ret
 923               	.LVL77:
 924               	.L64:
 925               	.LBB22:
 179:drivers/avr/i2c_master.c ****         }
 926               		.loc 1 179 13 is_stmt 1 discriminator 4 view .LVU225
 179:drivers/avr/i2c_master.c ****         }
 927               		.loc 1 179 22 is_stmt 0 discriminator 4 view .LVU226
 928 0050 B801      		movw r22,r16
 929 0052 8991      		ld r24,Y+
 930               	.LVL78:
 179:drivers/avr/i2c_master.c ****         }
 931               		.loc 1 179 22 discriminator 4 view .LVU227
 932 0054 0E94 0000 		call i2c_write
 933               	.LVL79:
 178:drivers/avr/i2c_master.c ****             status = i2c_write(data[i], timeout);
 934               		.loc 1 178 57 is_stmt 1 discriminator 4 view .LVU228
 178:drivers/avr/i2c_master.c ****             status = i2c_write(data[i], timeout);
 935               		.loc 1 178 57 is_stmt 0 discriminator 4 view .LVU229
 936 0058 00C0      		rjmp .L63
 937               	.LBE22:
 938               		.cfi_endproc
 939               	.LFE13:
 941               		.section	.text.i2c_readReg,"ax",@progbits
 942               	.global	i2c_readReg
 944               	i2c_readReg:
 945               	.LVL80:
 946               	.LFB14:
 188:drivers/avr/i2c_master.c ****     i2c_status_t status = i2c_start(devaddr, timeout);
 947               		.loc 1 188 110 is_stmt 1 view -0
 948               		.cfi_startproc
 188:drivers/avr/i2c_master.c ****     i2c_status_t status = i2c_start(devaddr, timeout);
 949               		.loc 1 188 110 is_stmt 0 view .LVU231
 950 0000 CF92      		push r12
 951               	.LCFI42:
 952               		.cfi_def_cfa_offset 3
 953               		.cfi_offset 12, -2
 954 0002 DF92      		push r13
 955               	.LCFI43:
 956               		.cfi_def_cfa_offset 4
 957               		.cfi_offset 13, -3
 958 0004 EF92      		push r14
 959               	.LCFI44:
 960               		.cfi_def_cfa_offset 5
 961               		.cfi_offset 14, -4
 962 0006 FF92      		push r15
 963               	.LCFI45:
 964               		.cfi_def_cfa_offset 6
 965               		.cfi_offset 15, -5
 966 0008 0F93      		push r16
 967               	.LCFI46:
 968               		.cfi_def_cfa_offset 7
 969               		.cfi_offset 16, -6
 970 000a 1F93      		push r17
 971               	.LCFI47:
 972               		.cfi_def_cfa_offset 8
 973               		.cfi_offset 17, -7
 974 000c CF93      		push r28
 975               	.LCFI48:
 976               		.cfi_def_cfa_offset 9
 977               		.cfi_offset 28, -8
 978 000e DF93      		push r29
 979               	.LCFI49:
 980               		.cfi_def_cfa_offset 10
 981               		.cfi_offset 29, -9
 982               	/* prologue: function */
 983               	/* frame size = 0 */
 984               	/* stack size = 8 */
 985               	.L__stack_usage = 8
 986 0010 F82E      		mov r15,r24
 987 0012 E62E      		mov r14,r22
 988 0014 EA01      		movw r28,r20
 989 0016 6901      		movw r12,r18
 189:drivers/avr/i2c_master.c ****     if (status < 0) {
 990               		.loc 1 189 5 is_stmt 1 view .LVU232
 189:drivers/avr/i2c_master.c ****     if (status < 0) {
 991               		.loc 1 189 27 is_stmt 0 view .LVU233
 992 0018 B801      		movw r22,r16
 993               	.LVL81:
 189:drivers/avr/i2c_master.c ****     if (status < 0) {
 994               		.loc 1 189 27 view .LVU234
 995 001a 0E94 0000 		call i2c_start
 996               	.LVL82:
 190:drivers/avr/i2c_master.c ****         goto error;
 997               		.loc 1 190 5 is_stmt 1 view .LVU235
 190:drivers/avr/i2c_master.c ****         goto error;
 998               		.loc 1 190 8 is_stmt 0 view .LVU236
 999 001e 97FD      		sbrc r25,7
 1000 0020 00C0      		rjmp .L66
 194:drivers/avr/i2c_master.c ****     if (status < 0) {
 1001               		.loc 1 194 5 is_stmt 1 view .LVU237
 194:drivers/avr/i2c_master.c ****     if (status < 0) {
 1002               		.loc 1 194 14 is_stmt 0 view .LVU238
 1003 0022 B801      		movw r22,r16
 1004 0024 8E2D      		mov r24,r14
 1005               	.LVL83:
 194:drivers/avr/i2c_master.c ****     if (status < 0) {
 1006               		.loc 1 194 14 view .LVU239
 1007 0026 0E94 0000 		call i2c_write
 1008               	.LVL84:
 195:drivers/avr/i2c_master.c ****         goto error;
 1009               		.loc 1 195 5 is_stmt 1 view .LVU240
 195:drivers/avr/i2c_master.c ****         goto error;
 1010               		.loc 1 195 8 is_stmt 0 view .LVU241
 1011 002a 97FD      		sbrc r25,7
 1012 002c 00C0      		rjmp .L66
 199:drivers/avr/i2c_master.c **** 
 1013               		.loc 1 199 5 is_stmt 1 view .LVU242
 199:drivers/avr/i2c_master.c **** 
 1014               		.loc 1 199 14 is_stmt 0 view .LVU243
 1015 002e B801      		movw r22,r16
 1016 0030 8F2D      		mov r24,r15
 1017               	.LVL85:
 199:drivers/avr/i2c_master.c **** 
 1018               		.loc 1 199 14 view .LVU244
 1019 0032 8160      		ori r24,lo8(1)
 1020 0034 0E94 0000 		call i2c_start
 1021               	.LVL86:
 201:drivers/avr/i2c_master.c ****         status = i2c_read_ack(timeout);
 1022               		.loc 1 201 5 is_stmt 1 view .LVU245
 1023               	.LBB26:
 201:drivers/avr/i2c_master.c ****         status = i2c_read_ack(timeout);
 1024               		.loc 1 201 10 view .LVU246
 201:drivers/avr/i2c_master.c ****         status = i2c_read_ack(timeout);
 1025               		.loc 1 201 19 is_stmt 0 view .LVU247
 1026 0038 F12C      		mov r15,__zero_reg__
 1027               	.LVL87:
 201:drivers/avr/i2c_master.c ****         status = i2c_read_ack(timeout);
 1028               		.loc 1 201 19 view .LVU248
 1029 003a E12C      		mov r14,__zero_reg__
 1030               	.LVL88:
 201:drivers/avr/i2c_master.c ****         status = i2c_read_ack(timeout);
 1031               		.loc 1 201 38 view .LVU249
 1032 003c 21E0      		ldi r18,1
 1033 003e C21A      		sub r12,r18
 1034 0040 D108      		sbc r13,__zero_reg__
 1035               	.LVL89:
 1036               	.L67:
 201:drivers/avr/i2c_master.c ****         status = i2c_read_ack(timeout);
 1037               		.loc 1 201 26 is_stmt 1 discriminator 1 view .LVU250
 201:drivers/avr/i2c_master.c ****         status = i2c_read_ack(timeout);
 1038               		.loc 1 201 5 is_stmt 0 discriminator 1 view .LVU251
 1039 0042 EC14      		cp r14,r12
 1040 0044 FD04      		cpc r15,r13
 1041 0046 00F4      		brsh .L69
 201:drivers/avr/i2c_master.c ****         status = i2c_read_ack(timeout);
 1042               		.loc 1 201 43 discriminator 3 view .LVU252
 1043 0048 97FF      		sbrs r25,7
 1044 004a 00C0      		rjmp .L70
 1045               	.LVL90:
 1046               	.L66:
 201:drivers/avr/i2c_master.c ****         status = i2c_read_ack(timeout);
 1047               		.loc 1 201 43 discriminator 3 view .LVU253
 1048               	.LBE26:
 216:drivers/avr/i2c_master.c **** 
 1049               		.loc 1 216 5 is_stmt 1 view .LVU254
 1050               	.LBB27:
 1051               	.LBI27:
 221:drivers/avr/i2c_master.c ****     // transmit STOP condition
 1052               		.loc 1 221 6 view .LVU255
 1053               	.LBB28:
 1054               		.loc 1 223 5 view .LVU256
 1055               		.loc 1 223 10 is_stmt 0 view .LVU257
 1056 004c 24E9      		ldi r18,lo8(-108)
 1057 004e 2093 BC00 		sts 188,r18
 1058               	.LBE28:
 1059               	.LBE27:
 218:drivers/avr/i2c_master.c **** }
 1060               		.loc 1 218 5 is_stmt 1 view .LVU258
 218:drivers/avr/i2c_master.c **** }
 1061               		.loc 1 218 34 is_stmt 0 view .LVU259
 1062 0052 1816      		cp __zero_reg__,r24
 1063 0054 1906      		cpc __zero_reg__,r25
 1064 0056 04F4      		brge .L71
 218:drivers/avr/i2c_master.c **** }
 1065               		.loc 1 218 34 view .LVU260
 1066 0058 90E0      		ldi r25,0
 1067 005a 80E0      		ldi r24,0
 1068               	.LVL91:
 1069               	.L71:
 1070               	/* epilogue start */
 219:drivers/avr/i2c_master.c **** 
 1071               		.loc 1 219 1 view .LVU261
 1072 005c DF91      		pop r29
 1073 005e CF91      		pop r28
 1074 0060 1F91      		pop r17
 1075 0062 0F91      		pop r16
 1076               	.LVL92:
 219:drivers/avr/i2c_master.c **** 
 1077               		.loc 1 219 1 view .LVU262
 1078 0064 FF90      		pop r15
 1079 0066 EF90      		pop r14
 1080 0068 DF90      		pop r13
 1081 006a CF90      		pop r12
 1082 006c 0895      		ret
 1083               	.LVL93:
 1084               	.L70:
 1085               	.LBB29:
 202:drivers/avr/i2c_master.c ****         if (status >= 0) {
 1086               		.loc 1 202 9 is_stmt 1 view .LVU263
 202:drivers/avr/i2c_master.c ****         if (status >= 0) {
 1087               		.loc 1 202 18 is_stmt 0 view .LVU264
 1088 006e C801      		movw r24,r16
 1089               	.LVL94:
 202:drivers/avr/i2c_master.c ****         if (status >= 0) {
 1090               		.loc 1 202 18 view .LVU265
 1091 0070 0E94 0000 		call i2c_read_ack
 1092               	.LVL95:
 203:drivers/avr/i2c_master.c ****             data[i] = status;
 1093               		.loc 1 203 9 is_stmt 1 view .LVU266
 203:drivers/avr/i2c_master.c ****             data[i] = status;
 1094               		.loc 1 203 12 is_stmt 0 view .LVU267
 1095 0074 97FD      		sbrc r25,7
 1096 0076 00C0      		rjmp .L68
 204:drivers/avr/i2c_master.c ****         }
 1097               		.loc 1 204 13 is_stmt 1 view .LVU268
 204:drivers/avr/i2c_master.c ****         }
 1098               		.loc 1 204 21 is_stmt 0 view .LVU269
 1099 0078 FE01      		movw r30,r28
 1100 007a EE0D      		add r30,r14
 1101 007c FF1D      		adc r31,r15
 1102 007e 8083      		st Z,r24
 1103               	.L68:
 201:drivers/avr/i2c_master.c ****         status = i2c_read_ack(timeout);
 1104               		.loc 1 201 59 is_stmt 1 discriminator 2 view .LVU270
 201:drivers/avr/i2c_master.c ****         status = i2c_read_ack(timeout);
 1105               		.loc 1 201 60 is_stmt 0 discriminator 2 view .LVU271
 1106 0080 2FEF      		ldi r18,-1
 1107 0082 E21A      		sub r14,r18
 1108 0084 F20A      		sbc r15,r18
 1109               	.LVL96:
 201:drivers/avr/i2c_master.c ****         status = i2c_read_ack(timeout);
 1110               		.loc 1 201 60 discriminator 2 view .LVU272
 1111 0086 00C0      		rjmp .L67
 1112               	.L69:
 201:drivers/avr/i2c_master.c ****         status = i2c_read_ack(timeout);
 1113               		.loc 1 201 60 discriminator 2 view .LVU273
 1114               	.LBE29:
 208:drivers/avr/i2c_master.c ****         status = i2c_read_nack(timeout);
 1115               		.loc 1 208 5 is_stmt 1 view .LVU274
 208:drivers/avr/i2c_master.c ****         status = i2c_read_nack(timeout);
 1116               		.loc 1 208 8 is_stmt 0 view .LVU275
 1117 0088 97FD      		sbrc r25,7
 1118 008a 00C0      		rjmp .L66
 209:drivers/avr/i2c_master.c ****         if (status >= 0) {
 1119               		.loc 1 209 9 is_stmt 1 view .LVU276
 209:drivers/avr/i2c_master.c ****         if (status >= 0) {
 1120               		.loc 1 209 18 is_stmt 0 view .LVU277
 1121 008c C801      		movw r24,r16
 1122               	.LVL97:
 209:drivers/avr/i2c_master.c ****         if (status >= 0) {
 1123               		.loc 1 209 18 view .LVU278
 1124 008e 0E94 0000 		call i2c_read_nack
 1125               	.LVL98:
 210:drivers/avr/i2c_master.c ****             data[(length - 1)] = status;
 1126               		.loc 1 210 9 is_stmt 1 view .LVU279
 210:drivers/avr/i2c_master.c ****             data[(length - 1)] = status;
 1127               		.loc 1 210 12 is_stmt 0 view .LVU280
 1128 0092 97FD      		sbrc r25,7
 1129 0094 00C0      		rjmp .L66
 211:drivers/avr/i2c_master.c ****         }
 1130               		.loc 1 211 13 is_stmt 1 view .LVU281
 211:drivers/avr/i2c_master.c ****         }
 1131               		.loc 1 211 32 is_stmt 0 view .LVU282
 1132 0096 CC0D      		add r28,r12
 1133 0098 DD1D      		adc r29,r13
 1134               	.LVL99:
 211:drivers/avr/i2c_master.c ****         }
 1135               		.loc 1 211 32 view .LVU283
 1136 009a 8883      		st Y,r24
 1137 009c 00C0      		rjmp .L66
 1138               		.cfi_endproc
 1139               	.LFE14:
 1141               		.section	.text.i2c_stop,"ax",@progbits
 1142               	.global	i2c_stop
 1144               	i2c_stop:
 1145               	.LFB15:
 221:drivers/avr/i2c_master.c ****     // transmit STOP condition
 1146               		.loc 1 221 21 is_stmt 1 view -0
 1147               		.cfi_startproc
 1148               	/* prologue: function */
 1149               	/* frame size = 0 */
 1150               	/* stack size = 0 */
 1151               	.L__stack_usage = 0
 1152               		.loc 1 223 5 view .LVU285
 1153               		.loc 1 223 10 is_stmt 0 view .LVU286
 1154 0000 84E9      		ldi r24,lo8(-108)
 1155 0002 8093 BC00 		sts 188,r24
 1156               	/* epilogue start */
 224:drivers/avr/i2c_master.c **** }
 1157               		.loc 1 224 1 view .LVU287
 1158 0006 0895      		ret
 1159               		.cfi_endproc
 1160               	.LFE15:
 1162               		.text
 1163               	.Letext0:
 1164               		.file 2 "c:\\msys64\\mingw64\\avr\\include\\stdint.h"
 1165               		.file 3 "drivers/avr/i2c_master.h"
 1166               		.file 4 "tmk_core/common/timer.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 i2c_master.c
C:\Users\renep\AppData\Local\Temp\ccryakIj.s:2      *ABS*:000000000000003e __SP_H__
C:\Users\renep\AppData\Local\Temp\ccryakIj.s:3      *ABS*:000000000000003d __SP_L__
C:\Users\renep\AppData\Local\Temp\ccryakIj.s:4      *ABS*:000000000000003f __SREG__
C:\Users\renep\AppData\Local\Temp\ccryakIj.s:5      *ABS*:0000000000000000 __tmp_reg__
C:\Users\renep\AppData\Local\Temp\ccryakIj.s:6      *ABS*:0000000000000001 __zero_reg__
C:\Users\renep\AppData\Local\Temp\ccryakIj.s:13     .text.i2c_init:0000000000000000 i2c_init
C:\Users\renep\AppData\Local\Temp\ccryakIj.s:38     .text.i2c_start:0000000000000000 i2c_start
C:\Users\renep\AppData\Local\Temp\ccryakIj.s:224    .text.i2c_write:0000000000000000 i2c_write
C:\Users\renep\AppData\Local\Temp\ccryakIj.s:330    .text.i2c_read_ack:0000000000000000 i2c_read_ack
C:\Users\renep\AppData\Local\Temp\ccryakIj.s:420    .text.i2c_read_nack:0000000000000000 i2c_read_nack
C:\Users\renep\AppData\Local\Temp\ccryakIj.s:510    .text.i2c_transmit:0000000000000000 i2c_transmit
C:\Users\renep\AppData\Local\Temp\ccryakIj.s:632    .text.i2c_receive:0000000000000000 i2c_receive
C:\Users\renep\AppData\Local\Temp\ccryakIj.s:809    .text.i2c_writeReg:0000000000000000 i2c_writeReg
C:\Users\renep\AppData\Local\Temp\ccryakIj.s:944    .text.i2c_readReg:0000000000000000 i2c_readReg
C:\Users\renep\AppData\Local\Temp\ccryakIj.s:1144   .text.i2c_stop:0000000000000000 i2c_stop

UNDEFINED SYMBOLS
timer_read
